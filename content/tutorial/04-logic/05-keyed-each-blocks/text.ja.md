---
title: Keyed each blocks
---

デフォルトでは、`each` ブロックの値を変更すると、ブロックの *最後* にある項目を追加・削除し、変更された値を更新します。これはあなたが望むものではないかもしれません。

説明するよりも理由を示す方が簡単です。「Remove first thing」ボタンを何度かクリックして、最後に `<Thing>` コンポーネントを削除し、残ったものについては `color` を更新していることに注目してください。代わりに、最初の `<Thing>` コンポーネントを削除して、残りの部分は影響を受けないようにしたいと思います。

そのためには、`each` ブロックに一意な識別子を指定します。

```html
{#each things as thing (thing.id)}
	<Thing current={thing.color}/>
{/each}
```

`(thing.id)` は、何が変わったのかを知る方法を Svelte に伝えます。

> Svelte は内部的に `Map` を使用しているので、どんなオブジェクトでもキーとして使用できます。つまり `(thing.id)` の代わりに `(thing)` を使うことができます。文字列または数値を使用する方が一般的に安全ですが、参照の等価性がなくてもIDが持続することを意味します。例えばAPIサーバーからの新しいデータで更新する場合です。
